import{x as A,a as t,b as s,y as a,t as n,z as d,A as H,c as p,r as O,o as R,l as D,d as i,m as w,e as m,n as E,f as y,p as f,F as x,k,T as G}from"./index.d754835a.js";import{_ as J}from"./AppItemsPopup.8d29a4ca.js";import{u as K,s as Q}from"./store.6128d89b.js";import{a as W}from"./transitions.3f366a8f.js";import X from"./QuestionIcon.f6e5f55d.js";import"./AppPopup.da4d0e2e.js";import"./ExitIcon.934b245f.js";import"./FilterIcon.7cc96d38.js";import"./AppSidebar.0c57e911.js";import"./AppFilter.052e2d5d.js";import"./RangeSlider.d56f2620.js";import"./index.88fa00fc.js";const g={strength:"\u0441\u0438\u043B\u0430",agility:"\u043B\u043E\u0432\u043A\u043E\u0441\u0442\u044C",intelligence:"\u0440\u0430\u0437\u0443\u043C",attack:"\u0443\u0440\u043E\u043D",defence:"\u0437\u0430\u0449\u0438\u0442\u0430",visibility:"\u043E\u0431\u0437\u043E\u0440",luck:"\u0443\u0434\u0430\u0447\u0430",hp:"\u0425\u041F",mp:"\u041C\u041F",resist:"\u0441\u043E\u043F\u0440\u043E\u0442\u0438\u0432\u043B\u0435\u043D\u0438\u0435 \u043C\u0430\u0433\u0438\u0438",hp_regeneration:"\u0440\u0435\u0433\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F \u0437\u0434\u043E\u0440\u043E\u0432\u044C\u044F",mp_regeneration:"\u0440\u0435\u0433\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F \u043C\u0430\u043D\u044B",mp_regen:"\u0440\u0435\u0433\u0435\u043D\u0435\u0440\u0430\u0446\u0438\u044F \u043C\u0430\u043D\u044B",stealth_detection:"\u043E\u0431\u043D\u0430\u0440\u0443\u0436\u0435\u043D\u0438\u0435 \u043D\u0435\u0432\u0438\u0434\u0438\u043C\u043E\u043A",as:"\u0441\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0430\u0442\u0430\u043A\u0438",ms:"\u0441\u043A\u043E\u0440\u043E\u0441\u0442\u044C \u0431\u0435\u0433\u0430",manaburn:"\u043A\u0430\u0436\u0434\u044B\u0439 \u0443\u0434\u0430\u0440 \u0441\u0436\u0438\u0433\u0430\u0435\u0442",evade:"\u0443\u043A\u043B\u043E\u043D\u0435\u043D\u0438\u0435",aura:"\u0430\u0443\u0440\u0430",active:"\u0430\u043A\u0442\u0438\u0432",distant_resist:"\u0441\u043D\u0438\u0436\u0435\u043D\u0438\u0435 \u0443\u0440\u043E\u043D\u0430",critical_chance:"\u0448\u0430\u043D\u0441 \u043A\u0440\u0438\u0442\u0430:",block_chance:"\u0448\u0430\u043D\u0441 \u0431\u043B\u043E\u043A\u0430:"},Y={key:0},Z={key:1},ee={key:0},te={key:1},se={key:2},ae={key:3},ne={key:4},oe={__name:"ItemParams",props:{item:{default:()=>{},type:Object},param:{default:"",type:String},equalityParams:{default:!1,type:Boolean}},setup(P){const _=P,{item:c,param:l,equalityParams:e}=A(_);return(b,$)=>(t(),s("li",null,[a(e)&&a(l)==="strength"?(t(),s("div",Y," \u0432\u0441\u0435 \u0441\u0442\u0430\u0442\u044B: "+n(a(c).params.strength),1)):a(c).params[a(l)]&&a(g)[a(l)]?(t(),s("div",Z,[a(l)==="manaburn"?(t(),s("span",ee,n(a(g)[a(l)])+" "+n(a(c).params[a(l)])+" \u043C\u0430\u043D\u044B \u043F\u0440\u043E\u0442\u0438\u0432\u043D\u0438\u043A\u0443 ",1)):a(l)==="critical_chance"?(t(),s("span",te,n(a(g)[a(l)])+" "+n(a(c).params[a(l)])+"% \u043D\u0430 x"+n(a(c).params.critical_value),1)):a(l)==="block_chance"?(t(),s("span",se,n(a(c).params[a(l)])+"% \u043D\u0430 \u0431\u043B\u043E\u043A "+n(a(c).params.block_value)+" \u0443\u0440\u043E\u043D\u0430 ",1)):(t(),s("span",ae,n(a(g)[a(l)])+": "+n(a(c).params[a(l)]),1)),["as","mp_regeneration","resist","distant_resist","evade"].includes(a(l))?(t(),s("span",ne,"%")):d("",!0)])):d("",!0)]))}},re={key:0},le={key:1,class:"mx-4 mb-96 flex flex-1 flex-col justify-between"},ie={class:"headline mt-6"},ce={class:"mb-4 mt-10 flex flex-wrap items-center"},ue={class:"flex w-full flex-wrap items-center xs:w-auto"},de=["src"],me={class:"text-md ml-2 flex h-fit flex-1 justify-end whitespace-nowrap text-second"},_e={class:"ml-4 flex flex-col content-center justify-center"},ve={key:0},pe={key:1},he={key:2},ye={class:"text-lg text-red"},fe={key:3},xe={key:4},ke={key:5},ge=["innerHTML"],be={key:0,class:"body my-2 text-white"},$e={key:1,class:"my-2 text-lg text-white"},we={class:"text-green"},Pe={key:2,class:"my-2"},Ce={key:3,class:"my-2 p-2"},Ie={class:"text-red hover:border-b"},je={key:0},Be={key:1},Te={key:4,class:"border-bg-silver rounded-lg border p-2"},qe={class:"text-red hover:border-b"},Ne={key:0},Me={key:1},Se={key:5,class:"my-2 rounded-lg border border-silver p-2"},Ue={class:"text-red hover:border-b"},Ve={key:0},Fe={key:1},We={__name:"ItemPage",setup(P){const{user:_,addItem:c}=K(),l=H(),e=p(()=>Q.currentItem("items",l.params.id)),b=p(()=>{var o,u;return((o=e.value)==null?void 0:o.goblins)&&!((u=e.value)!=null&&u.goblins.includes(_.goblin.name))}),$=p(()=>{var o;return(o=e.value.notUsed)==null?void 0:o.some(u=>_.inventory.map(h=>h.id).includes(u.id))}),V=p(()=>$.value?"\u043D\u0435\u043B\u044C\u0437\u044F \u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C":b.value?"\u043D\u0435 \u043F\u043E\u0434\u0445\u043E\u0434\u0438\u0442 \u0433\u043E\u0431\u043B\u0438\u043D\u0443":C.value?`\u043D\u0435 \u0431\u043E\u043B\u0435\u0435 ${e.value.max_count||1} \u0448\u0442.`:_.inventory.length<6?"\u0434\u043E\u0431\u0430\u0432\u0438\u0442\u044C \u0432 \u0438\u043D\u0432\u0435\u043D\u0442\u0430\u0440\u044C":"\u0438\u043D\u0432\u0435\u043D\u0442\u0430\u0440\u044C \u043F\u0435\u0440\u0435\u043F\u043E\u043B\u043D\u0435\u043D"),C=p(()=>{const o=_.inventory.filter(u=>u.id===e.value.id);return!e.value.max_count&&o.length===1?!0:e.value.max_count<=o.length}),F=()=>{C.value||b.value||$.value||_.inventory.length<6&&c(e.value)},I=o=>{var u;return((u=e.value)==null?void 0:u.count)&&e.value.count[o]?`${e.value.count[o]}\u0448\u0442`:""},j=O(null);R(()=>W([j]));const L=o=>o==="\u0410\u043D\u0433\u0435\u043B\u044C\u0441\u043A\u0430\u044F \u043A\u0443\u0437\u043D\u0438\u0446\u0430"?"text-yellow":o==="\u0412\u043D\u0435\u0432\u0440\u0435\u043C\u0435\u043D\u043D\u0430\u044F \u043A\u0443\u0437\u043D\u044F"?"text-purple":o==="\u0412\u0435\u043B\u0438\u043A\u0430\u044F \u043A\u0443\u0437\u043D\u0438\u0446\u0430"?"text-orange":o==="\u041A\u043E\u0442\u0435\u043B\u043E\u043A \u041F\u043E\u043F\u0441\u0430"?"text-green":o==="\u0414\u0435\u043C\u043E\u043D\u0438\u0447\u0435\u0441\u043A\u0430\u044F \u043A\u0443\u0437\u043D\u0438\u0446\u0430"?"text-red":"",B=p(()=>e.value.params.strength===e.value.params.agility&&e.value.params.agility===e.value.params.intelligence),z=p(()=>Object.keys(e.value.params).sort(o=>["strength","agility","intelligence"].includes(o)?-1:1).filter(o=>B.value?!["agility","intelligence"].includes(o):!0));return(o,u)=>{var T,q,N,M,S,U;const h=D("router-link");return e.value?(t(),s("div",le,[i("div",{ref_key:"content",ref:j},[i("div",ie,n(e.value.name),1),i("div",ce,[i("div",ue,[e.value.src?(t(),s("img",{key:0,src:e.value.src,alt:"logo",class:"h-24 w-24"},null,8,de)):(t(),w(X,{key:1,color:"red"})),i("div",me,[i("button",{class:"mr-auto rounded-2xl border border-solid border-second px-2 py-4 ease-out hover:border-red hover:text-red",onClick:F},n(V.value),1)]),i("div",_e,[((T=e.value)==null?void 0:T.level)>1?(t(),s("div",ve," \u0442\u0440\u0435\u0431\u0443\u0435\u043C\u044B\u0439 \u0443\u0440\u043E\u0432\u0435\u043D\u044C: "+n(e.value.level),1)):(t(),s("div",pe,"\u041D\u0435\u0442 \u043E\u0433\u0440\u0430\u043D\u0438\u0447\u0435\u043D\u0438\u044F \u043F\u043E \u0443\u0440\u043E\u0432\u043D\u044E")),(q=e.value.goblins)!=null&&q.length?(t(),s("div",he,[m(" \u0422\u043E\u043B\u044C\u043A\u043E \u0434\u043B\u044F \u043A\u043B\u0430\u0441\u0441\u0430: "),i("span",ye,n(e.value.goblins.join(", ")),1)])):(t(),s("div",fe,"\u041F\u043E\u0434\u0445\u043E\u0434\u0438\u0442 \u0434\u043B\u044F \u0432\u0441\u0435\u0445 \u043A\u043B\u0430\u0441\u0441\u043E\u0432")),e.value.craft?(t(),s("div",xe,[m(" \u043A\u0440\u0430\u0444\u0442 \u0432: "),i("span",{class:E(L(e.value.craft))},n(e.value.craft),3)])):d("",!0),e.value.boss?(t(),s("div",ke,[m(" \u0411\u043E\u0441\u0441: "),y(h,{to:`/boss?name=${(N=e.value.boss)==null?void 0:N.name}`,class:"mr-2 text-red"},{default:f(()=>{var r;return[m(n((r=e.value.boss)==null?void 0:r.name),1)]}),_:1},8,["to"])])):d("",!0)])])]),i("div",{class:"body my-2 text-white",innerHTML:e.value.description},null,8,ge),e.value.max_count?(t(),s("div",be," \u041D\u0435 \u0431\u043E\u043B\u0435\u0435 "+n(e.value.max_count)+" \u0448\u0442. ",1)):d("",!0),e.value.source?(t(),s("div",$e,[m(" \u0413\u0434\u0435 \u0434\u043E\u0441\u0442\u0430\u0442\u044C: "),i("span",we,n(e.value.source),1)])):d("",!0),e.value.params?(t(),s("ul",Pe,[m(" \u0411\u043E\u043D\u0443\u0441\u044B \u043F\u0440\u0435\u0434\u043C\u0435\u0442\u0430: "),(t(!0),s(x,null,k(z.value,(r,v)=>(t(),w(oe,{key:v,class:"ml-7",item:e.value,param:r,equalityParams:B.value},null,8,["item","param","equalityParams"]))),128))])):d("",!0),(M=e.value.notUsed)!=null&&M.length?(t(),s("div",Ce,[m(" \u041D\u0435\u043B\u044C\u0437\u044F \u0438\u0441\u043F\u043E\u043B\u044C\u0437\u043E\u0432\u0430\u0442\u044C \u0441: "),(t(!0),s(x,null,k(e.value.notUsed,(r,v)=>(t(),s("span",{class:"text-md text-end",key:r.id},[y(h,{to:`/item/${r.id}`},{default:f(()=>[i("span",Ie,n(I(r.id))+" "+n(r.name),1),v!==e.value.notUsed.length-1?(t(),s("span",je,", ")):(t(),s("span",Be,"; "))]),_:2},1032,["to"])]))),128))])):d("",!0),(S=e.value.children)!=null&&S.length?(t(),s("div",Te,[m(' \u0418\u0437 \u043F\u0440\u0435\u0434\u043C\u0435\u0442\u0430 "'+n(e.value.name)+'" \u043C\u043E\u0436\u043D\u043E \u0441\u043A\u0440\u0430\u0444\u0442\u0438\u0442\u044C: ',1),(t(!0),s(x,null,k(e.value.children,(r,v)=>(t(),s("span",{class:"text-md text-end",key:r.id},[y(h,{to:`/item/${r.id}`},{default:f(()=>[i("span",qe,n(r.name),1),v!==e.value.children.length-1?(t(),s("span",Ne,", ")):(t(),s("span",Me,"; "))]),_:2},1032,["to"])]))),128))])):d("",!0),(U=e.value.parents)!=null&&U.length?(t(),s("div",Se,[m(' \u041F\u0440\u0435\u0434\u043C\u0435\u0442 "'+n(e.value.name)+'" \u043A\u0440\u0430\u0444\u0442\u0438\u0442\u0441\u044F \u0438\u0437: ',1),(t(!0),s(x,null,k(e.value.parents,(r,v)=>(t(),s("span",{class:"text-md text-end",key:r.id},[y(h,{to:`/item/${r.id}`},{default:f(()=>[i("span",Ue,n(I(r.id))+" "+n(r.name),1),v!==e.value.parents.length-1?(t(),s("span",Ve,", ")):(t(),s("span",Fe,"; "))]),_:2},1032,["to"])]))),128))])):d("",!0)],512),(t(),w(G,{to:"body"},[y(J,{class:"fixed right-2 top-20 block h-15 bg-second md:hidden"})]))])):(t(),s("div",re,"\u0422\u0430\u043A\u043E\u0433\u043E \u043F\u0440\u0435\u0434\u043C\u0435\u0442\u0430 \u043D\u0435\u0442"))}}};export{We as default};
